{% extends "admin_layout.html" %}

{% block page_header %}

  <h1>{{title}}</h1>
  
{% endblock %}

{% block content %}

{% set govukPayHtml %}
  {{ govukInput({
    "label": {
      "text": "What is your GOV.UK Pay API key?"
    },
    id: "govuk-pay-api-key",
    name: "govuk-pay-api-key"
  }) }}
{% endset -%}

{% set govukNotifyHtml %}
  {{ govukInput({
    "label": {
      "text": "What is your GOV.UK Notify API key?"
    },
    id: "govuk-notify-api-key",
    name: "govuk-notify-api-key"
  }) }}
{% endset -%}

{% set govukNotifyIDHtml %}
  {{ govukInput({
    "label": {
      "text": "What is the ID of the 'Application submitted' template?"
    },
    id: "govuk-notify-api-key",
    name: "govuk-notify-api-key"
  }) }}
{% endset -%}

<form action="credentials-updated" method="post" class="form" novalidate>

  <section class="form-section">

    <!-- <h2 class="govuk-heading-m">Provide new credentials</h2> -->

    {{ govukCheckboxes({
      "idPrefix": "govuk-pay",
      "name": "govuk-pay",
      "fieldset": {
        "legend": {
          "text": "What would you like to update?",
          "isPageHeading": false,
          "classes": 'govuk-fieldset__legend--l'
        }
      },
      "items": [
        {
          "value": "govuk-pay",
          "text": "GOV.UK Pay API key",
          "conditional": {
            "html": govukPayHtml
          }
        },
        {
          "value": "govuk-notify",
          "text": "GOV.UK Notify API key",
          "conditional": {
            "html": govukNotifyHtml
          }
        },
        {
          "value": "govuk-notify",
          "text": "GOV.UK Notify 'Application submitted' template ID",
          "conditional": {
            "html": govukNotifyIDHtml
          }
        }
      ]
    }) }}

  </section>
    
  {{ govukButton({
    "text": "Update"
  }) }}

</form>

{% endblock %}